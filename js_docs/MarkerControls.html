<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: MarkerControls</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: MarkerControls</h1>

    




<section>

<header>
    
        <h2>MarkerControls</h2>
        
            <div class="class-description">MarkerControls handle adding, moving, deleting, and modifying the data of markers. They have their own area in the GUI (that edge controls also use).</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="MarkerControls"><span class="type-signature"></span>new MarkerControls<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    MarkerControls constructor. Creates the controls area & references buttons etc.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="_createMarkerAtCanvasPosition"><span class="type-signature"></span>_createMarkerAtCanvasPosition<span class="signature">(position)</span><span class="type-signature"></span></h4>

    



<div class="description">
    _createMarkerAtCanvasPosition creates a new marker at the position, which is given in canvas coordinates.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>position</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">object with x, y keys. will be transformed to map coordinates                             (but the object will not be mutated.)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_deleteMarker"><span class="type-signature"></span>_deleteMarker<span class="signature">(marker)</span><span class="type-signature"></span></h4>

    



<div class="description">
    _deleteMarker removes the marker from the view, and triggers the 'markerDeleted' event to inform other components that should know about that.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>marker</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">which marker should be removed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line281">line 281</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_onNewMarkerDragStop"><span class="type-signature"></span>_onNewMarkerDragStop<span class="signature">(event, ui)</span><span class="type-signature"></span></h4>

    



<div class="description">
    _onNewMarkerDragStop called when the "new marker"-draggable is dropped. if the marker was dropped on the canvas, this will lead to the creation of a new marker.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">event</span>


            
            </td>

            

            

            <td class="description last">event containing the location, etc., of this event.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ui</code></td>
            

            <td class="type">
            
                
<span class="param-type">jQuery</span>


            
            </td>

            

            

            <td class="description last">jQuery UI handle</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line319">line 319</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_setMarkerData"><span class="type-signature"></span>_setMarkerData<span class="signature">(marker, markerTime, markerIndex, markerData)</span><span class="type-signature"></span></h4>

    



<div class="description">
    _setMarkerData sets the marker's additionalData to markerData, with markerTime and markerIndex being set separately, so these are ensured to be there. Will trigger 'markerDataChanged'.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>marker</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">visual representation of the marker whose data changed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>markerTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">timestamp of the marker</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>markerIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">marker index, so the logical representations knows which one was edited.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>markerData</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">the "additional data", other than timeCreated and markerIndex</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line267">line 267</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_setupDragDropControls"><span class="type-signature"></span>_setupDragDropControls<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    _setupDragDropControls adds the drag & drop functionality to the "create marker"-GUI element, using jQuery UI
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line297">line 297</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="_setupNewMarker"><span class="type-signature"></span>_setupNewMarker<span class="signature">(posOnMap)</span><span class="type-signature"> &rarr; {fabric.Image}</span></h4>

    



<div class="description">
    _setupNewMarker instantiates a new fabric.Image, which will represent the marker if added to the visual layer of a navigame.CanvasManager
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>posOnMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">object with x and y keys</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line341">line 341</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the new marker object (not visible until it is added to a fabric canvas!)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">fabric.Image</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="_startEditingMarker"><span class="type-signature"></span>_startEditingMarker<span class="signature">(marker)</span><span class="type-signature"></span></h4>

    



<div class="description">
    _startEditingMarker shows the "edit marker"-dialog and registers callbacks to it.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>marker</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">which marker is affected by the dialog.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line247">line 247</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="addMarkerData"><span class="type-signature"></span>addMarkerData<span class="signature">(creationTime, toAdd)</span><span class="type-signature"></span></h4>

    



<div class="description">
    addMarkerData adds data to the marker, overriding data that has the same keys.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>creationTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">creation time of the marker, so the view representation can be identified.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toAdd</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">keys in this object will be created and their values will be                                stored under the same keys in the marker's additional data;                                if the keys already exist, the old values will be overridden.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line100">line 100</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="loadMarker"><span class="type-signature"></span>loadMarker<span class="signature">(savedMarker)</span><span class="type-signature"></span></h4>

    



<div class="description">
    loadMarker loads a marker from a logical representation of a marker/node.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>savedMarker</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">navigame.PathNode or JSON with same fields.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onCanvasMouseMove"><span class="type-signature"></span>onCanvasMouseMove<span class="signature">(position)</span><span class="type-signature"></span></h4>

    



<div class="description">
    onCanvasMouseMove moves a marker, if one is currently being dragged. the position does not have to be absolute, but the changes have to be relative to the previous position. Will trigger the 'markerMoved' event, if it did actually change a marker's position, which in turn _should_ move the attached edges.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>position</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">object with keys 'x' and 'y'</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onMarkerClicked"><span class="type-signature"></span>onMarkerClicked<span class="signature">(marker, position)</span><span class="type-signature"></span></h4>

    



<div class="description">
    onMarkerClicked sets the click callbacks for the "marker manipulation buttons" so they will affect this marker.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>marker</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">which marker was clicked</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>position</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">position of the click. necessary bugfix to enable dragging on                             mobile / touch-based systems.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onMarkerMouseOver"><span class="type-signature"></span>onMarkerMouseOver<span class="signature">(marker)</span><span class="type-signature"></span></h4>

    



<div class="description">
    onMarkerMouseOver highlights the marker (by making it somewhat bigger).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>marker</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">which marker to highlight</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line115">line 115</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onMouseUp"><span class="type-signature"></span>onMouseUp<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    onMouseUp should be called when the user stops pressing a mouse key, so dragging markers around stops (if it was active).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onOtherClicked"><span class="type-signature"></span>onOtherClicked<span class="signature">(what)</span><span class="type-signature"></span></h4>

    



<div class="description">
    onOtherClicked should be called if there was a click event that did not hit a marker. removes the click listeners on the manipulation buttons if "what" is null.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>what</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">null, if nothing was clicked; the clicked object, otherwise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line190">line 190</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="onOtherMouseOver"><span class="type-signature"></span>onOtherMouseOver<span class="signature">(what)</span><span class="type-signature"></span></h4>

    



<div class="description">
    onOtherMouseOver must be called when the mouse cursor hits nothing or hits an edge. if a marker was highlighted, that is re-set.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>what</code></td>
            

            <td class="type">
            
                
<span class="param-type">fabric.Object</span>


            
            </td>

            

            

            <td class="description last">null, if the other is not on an edge; that edge, if it is.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="view_marker_controls.js.html">view/marker_controls.js</a>, <a href="view_marker_controls.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AdditionalDataDialog.html">AdditionalDataDialog</a></li><li><a href="CanvasManager.html">CanvasManager</a></li><li><a href="EdgeControls.html">EdgeControls</a></li><li><a href="ElementScaler.html">ElementScaler</a></li><li><a href="GameApp.html">GameApp</a></li><li><a href="GameTitleBar.html">GameTitleBar</a></li><li><a href="MapControls.html">MapControls</a></li><li><a href="MapList.html">MapList</a></li><li><a href="MapPath.html">MapPath</a></li><li><a href="MapSelectionDialog.html">MapSelectionDialog</a></li><li><a href="MapSelectionHandler.html">MapSelectionHandler</a></li><li><a href="MapVisuals.html">MapVisuals</a></li><li><a href="MarkerControls.html">MarkerControls</a></li><li><a href="NewGameDialog.html">NewGameDialog</a></li><li><a href="Path.html">Path</a></li><li><a href="PathEdge.html">PathEdge</a></li><li><a href="PathManager.html">PathManager</a></li><li><a href="PathNode.html">PathNode</a></li><li><a href="ScoreDialog.html">ScoreDialog</a></li></ul><h3>Namespaces</h3><ul><li><a href="navigame.html">navigame</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ImageLoader">ImageLoader</a></li><li><a href="global.html#Log">Log</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Apr 05 2017 23:55:37 GMT+0200 (Mitteleuropäische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>